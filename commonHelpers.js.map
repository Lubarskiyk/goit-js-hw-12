{"version":3,"file":"commonHelpers.js","sources":["../src/js/render-function.js","../src/js/paxabay-api.js","../src/main.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\niziToast.settings({\n  timeout: 2500,\n  resetOnHover: true,\n  transitionIn: 'flipInX',\n  transitionOut: 'flipOutX',\n  position: 'topRight',\n  titleSize: 25,\n  messageSize: 25,\n  backgroundColor: 'rgba(255, 182, 66, 0.8)',\n});\n\nexport const refs = {\n  searchForm: document.querySelector('.js-search-form'),\n  gallery: document.querySelector('.gallery'),\n  loader: document.querySelector('.js-loader'),\n};\n\nexport function renderCard(imageData) {\n  return imageData\n    .map(\n      el =>\n        `<li class=\"card\">\n            <a href=\"${el.largeImageURL}\" class=\"big gallery-link\">\n              <img\n                src=\"${el.previewURL}\"\n                alt=\"${el.tags}\"\n                title=\"${el.tags}\"\n                class=\"card-img\"\n            /></a>\n            <ul class=\"card-title\">\n              <li class=\"card-text-blok\">\n                <h2 class=\"card-title-text\">Likes</h2>\n                <p class=\"card-text-value\">${el.likes}</p>\n              </li>\n              <li class=\"card-text-blok\">\n                <h2 class=\"card-title-text\">Views</h2>\n                <p class=\"card-text-value\">${el.views}</p>\n              </li>\n              <li class=\"card-text-blok\">\n                <h2 class=\"card-title-text\">Comments</h2>\n                <p class=\"card-text-value\">${el.comments}</p>\n              </li>\n              <li class=\"card-text-blok\">\n                <h2 class=\"card-title-text\">Downloads</h2>\n                <p class=\"card-text-value\">${el.downloads}</p>\n              </li>\n            </ul>\n          </li>`\n    )\n    .join('');\n}\n\nexport function handlerError(error) {\n  switch (error) {\n    case 'outdata':\n      iziToast.warning({\n        title: 'Error',\n        message: 'Введіть данні для пошуку!',\n      });\n      break;\n    case 'nodata':\n      iziToast.warning({\n        title: 'Error',\n        message:\n          'Sorry, there are no images matching your search query. Please try again!',\n      });\n      break;\n    default:\n      iziToast.error({\n        title: 'Error',\n        message: 'Щось пішло не так. Ми працюемо над вирішенням питання!',\n      });\n      break;\n  }\n}\n","import axios from 'axios';\n\naxios.defaults.baseURL = 'https://pixabay.com/api';\n\nconst searchSettings = {\n  key: '44443472-3b41bcc651e7d0b56b1888f38',\n  q: '',\n  image_type: 'photo',\n  orientation: 'horizontal',\n  safesearch: true,\n  //   per_page: 12,\n};\n\nexport async function fetchImage(searchText) {\n  searchSettings.q = searchText;\n  const response = await axios.get('/', { params: searchSettings });\n  console.log(response.data);\n  return response.data;\n}\n","import { renderCard, refs, handlerError } from './js/render-function';\nimport { fetchImage } from './js/paxabay-api';\n\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nrefs.searchForm.addEventListener('submit', handlerSearchButton);\n\nfunction handlerSearchButton(event) {\n  event.preventDefault();\n  const searchText = event.target.searchtext.value.trim();\n  if (!searchText) {\n    handlerError('outdata');\n    return;\n  }\n  refs.gallery.innerHTML = '';\n  refs.loader.classList.add('loader');\n  fetchImage(searchText)\n    .then(image => {\n      refs.loader.classList.remove('loader');\n      if (image.totalHits === 0) {\n        handlerError('nodata');\n        return;\n      }\n      refs.gallery.insertAdjacentHTML('beforeend', renderCard(image.hits));\n      galleryBigImage.refresh();\n    })\n    .catch(error => {\n      refs.loader.classList.remove('loader');\n      handlerError(error);\n    })\n    .finally(refs.searchForm.reset());\n}\n\nconst galleryBigImage = new SimpleLightbox('.gallery a', {\n  captionDelay: 250,\n  overlayOpacity: 0.8,\n  scrollZoom: false,\n});\ngalleryBigImage.on('show.simplelightbox', function () {});\n"],"names":["iziToast","refs","renderCard","imageData","el","handlerError","error","axios","searchSettings","fetchImage","searchText","response","handlerSearchButton","event","image","galleryBigImage","SimpleLightbox"],"mappings":"+vBAGAA,EAAS,SAAS,CAChB,QAAS,KACT,aAAc,GACd,aAAc,UACd,cAAe,WACf,SAAU,WACV,UAAW,GACX,YAAa,GACb,gBAAiB,yBACnB,CAAC,EAEM,MAAMC,EAAO,CAClB,WAAY,SAAS,cAAc,iBAAiB,EACpD,QAAS,SAAS,cAAc,UAAU,EAC1C,OAAQ,SAAS,cAAc,YAAY,CAC7C,EAEO,SAASC,EAAWC,EAAW,CACpC,OAAOA,EACJ,IACCC,GACE;AAAA,uBACeA,EAAG,aAAa;AAAA;AAAA,uBAEhBA,EAAG,UAAU;AAAA,uBACbA,EAAG,IAAI;AAAA,yBACLA,EAAG,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6CAMaA,EAAG,KAAK;AAAA;AAAA;AAAA;AAAA,6CAIRA,EAAG,KAAK;AAAA;AAAA;AAAA;AAAA,6CAIRA,EAAG,QAAQ;AAAA;AAAA;AAAA;AAAA,6CAIXA,EAAG,SAAS;AAAA;AAAA;AAAA,gBAIpD,EACA,KAAK,EAAE,CACZ,CAEO,SAASC,EAAaC,EAAO,CAClC,OAAQA,EAAK,CACX,IAAK,UACHN,EAAS,QAAQ,CACf,MAAO,QACP,QAAS,2BACjB,CAAO,EACD,MACF,IAAK,SACHA,EAAS,QAAQ,CACf,MAAO,QACP,QACE,0EACV,CAAO,EACD,MACF,QACEA,EAAS,MAAM,CACb,MAAO,QACP,QAAS,wDACjB,CAAO,EACD,KACH,CACH,CC3EAO,EAAM,SAAS,QAAU,0BAEzB,MAAMC,EAAiB,CACrB,IAAK,qCACL,EAAG,GACH,WAAY,QACZ,YAAa,aACb,WAAY,EAEd,EAEO,eAAeC,EAAWC,EAAY,CAC3CF,EAAe,EAAIE,EACnB,MAAMC,EAAW,MAAMJ,EAAM,IAAI,IAAK,CAAE,OAAQC,CAAc,CAAE,EAChE,eAAQ,IAAIG,EAAS,IAAI,EAClBA,EAAS,IAClB,CCZAV,EAAK,WAAW,iBAAiB,SAAUW,CAAmB,EAE9D,SAASA,EAAoBC,EAAO,CAClCA,EAAM,eAAc,EACpB,MAAMH,EAAaG,EAAM,OAAO,WAAW,MAAM,OACjD,GAAI,CAACH,EAAY,CACfL,EAAa,SAAS,EACtB,MACD,CACDJ,EAAK,QAAQ,UAAY,GACzBA,EAAK,OAAO,UAAU,IAAI,QAAQ,EAClCQ,EAAWC,CAAU,EAClB,KAAKI,GAAS,CAEb,GADAb,EAAK,OAAO,UAAU,OAAO,QAAQ,EACjCa,EAAM,YAAc,EAAG,CACzBT,EAAa,QAAQ,EACrB,MACD,CACDJ,EAAK,QAAQ,mBAAmB,YAAaC,EAAWY,EAAM,IAAI,CAAC,EACnEC,EAAgB,QAAO,CAC7B,CAAK,EACA,MAAMT,GAAS,CACdL,EAAK,OAAO,UAAU,OAAO,QAAQ,EACrCI,EAAaC,CAAK,CACxB,CAAK,EACA,QAAQL,EAAK,WAAW,MAAO,CAAA,CACpC,CAEA,MAAMc,EAAkB,IAAIC,EAAe,aAAc,CACvD,aAAc,IACd,eAAgB,GAChB,WAAY,EACd,CAAC,EACDD,EAAgB,GAAG,sBAAuB,UAAY,EAAE"}